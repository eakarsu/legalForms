<%- include('base', { body: `
<div class="portal-header">
    <div>
        <h4 class="mb-0">My Cases</h4>
        <small class="text-muted">View all your legal matters</small>
    </div>
</div>

<div class="portal-card">
    ${cases.length > 0 ? `
    <div class="table-responsive">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Case Number</th>
                    <th>Title</th>
                    <th>Type</th>
                    <th>Status</th>
                    <th>Opened</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                ${cases.map(c => `
                <tr class="clickable-row" data-href="/portal/cases/${c.id}" style="cursor: pointer;">
                    <td><strong>${c.case_number || 'N/A'}</strong></td>
                    <td>${c.title}</td>
                    <td><span class="badge bg-secondary">${c.case_type || 'General'}</span></td>
                    <td><span class="status-badge status-${c.status}">${c.status}</span></td>
                    <td>${new Date(c.date_opened).toLocaleDateString()}</td>
                    <td onclick="event.stopPropagation();">
                        <a href="/portal/cases/${c.id}" class="btn btn-sm btn-outline-primary">
                            <i class="fas fa-eye"></i> View
                        </a>
                    </td>
                </tr>
                `).join('')}
            </tbody>
        </table>
    </div>
    ` : `
    <div class="text-center py-5">
        <i class="fas fa-briefcase fa-3x text-muted mb-3"></i>
        <h5>No Cases Found</h5>
        <p class="text-muted">You don't have any active cases at the moment.</p>
    </div>
    `}
</div>
` }) %>
